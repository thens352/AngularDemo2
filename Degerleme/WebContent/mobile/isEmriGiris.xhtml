<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile">

<f:view />

<h:head>
</h:head>

<h:body>
	<pm:page>
		<pm:content>
			<h:form id="isEmri">
				<p:panel id="anaPanel" header="İş Emri Girişi">
					<p:panelGrid columns="2">
						<p:column>
							<pm:field>
								<p:outputLabel for="banka" value="Banka " />
								<p:selectOneMenu id="banka" value="#{isEmriGirisi.isEmri.banka}"
									converter="omnifaces.SelectItemsConverter" var="b"
									filter="true" filterMatchMode="contains">
									<f:selectItem noSelectionOption="true" itemLabel="Banka Seç"
										itemValue="" />
									<f:selectItems value="#{isEmriGirisi.bankaList}" var="banka"
										itemLabel="#{banka.name}" itemValue="#{banka}" />
									<p:column>
										<h:outputText value="#{b.name}" />
									</p:column>
									<p:ajax update="bankaSubesi"
										listener="#{isEmriGirisi.bankaSecildi}" />
								</p:selectOneMenu>
							</pm:field>
						</p:column>
						<p:column>
							<pm:field>
								<p:outputLabel for="bankaSubesi" value="Banka Şubesi " />
								<p:selectOneMenu id="bankaSubesi"
									value="#{isEmriGirisi.isEmri.bankaSubesi}"
									converter="omnifaces.SelectItemsConverter" var="bs"
									filter="true" filterMatchMode="contains">
									<f:selectItem noSelectionOption="true"
										itemLabel="Banka Şubesi Seç" itemValue="" />
									<f:selectItems value="#{isEmriGirisi.bankaSubesiList}"
										var="bankaSubesi" itemLabel="#{bankaSubesi.name}"
										itemValue="#{bankaSubesi}" />
									<p:column>
										<h:outputText value="#{bs.name}" />
									</p:column>
								</p:selectOneMenu>
							</pm:field>
						</p:column>
					</p:panelGrid>

					<p:panelGrid columns="2">
						<p:column>
							<pm:field>
								<p:outputLabel for="tarih" value="Tarih " />
								<p:calendar id="tarih" value="#{isEmriGirisi.isEmri.tarih}"
									effect="fold" />
							</pm:field>
						</p:column>
						<p:column>
							<pm:field>
								<p:outputLabel for="form" value="Form " />
								<p:selectOneMenu id="form" value="#{isEmriGirisi.isEmri.form}"
									converter="omnifaces.SelectItemsConverter" var="f"
									filter="true" filterMatchMode="contains">
									<f:selectItem noSelectionOption="true" itemLabel="Form Seç"
										itemValue="" />
									<f:selectItems value="#{isEmriGirisi.formList}" var="form"
										itemLabel="#{form.name}" itemValue="#{form}" />
									<p:column>
										<h:outputText value="#{f.name}" />
									</p:column>
								</p:selectOneMenu>
							</pm:field>
						</p:column>
					</p:panelGrid>

					<p:panelGrid columns="1">
						<p:panel>
							<pm:field>
								<p:outputLabel value="Bina Bilgileri" />
							</pm:field>
							<pre />
							<p:panelGrid id="binaAdresi" columns="1">
								<p:column>
									<pm:field>
										<p:outputLabel for="il" value="İl " />
										<p:selectOneMenu id="il" value="#{isEmriGirisi.secilenIl}"
											converter="omnifaces.SelectItemsConverter" var="i"
											filter="true" filterMatchMode="contains">
											<f:selectItem noSelectionOption="true" itemLabel="İl Seç"
												itemValue="" />
											<f:selectItems value="#{isEmriGirisi.ilList}" var="il"
												itemLabel="#{il.adi}" itemValue="#{il}" />
											<p:column>
												<h:outputText value="#{i.adi}" />
											</p:column>
											<p:ajax update="ilce,mahalle,sokak"
												listener="#{isEmriGirisi.ilSecildi}" />
										</p:selectOneMenu>
									</pm:field>
									<pre />
									<pm:field>
										<p:outputLabel for="ilce" value="İlçe " />
										<p:selectOneMenu id="ilce" value="#{isEmriGirisi.secilenIlce}"
											converter="omnifaces.SelectItemsConverter" var="ic"
											filter="true" filterMatchMode="contains">
											<f:selectItem noSelectionOption="true" itemLabel="İlçe Seç"
												itemValue="" />
											<f:selectItems value="#{isEmriGirisi.ilceList}" var="ilce"
												itemLabel="#{ilce.adi}" itemValue="#{ilce}" />
											<p:column>
												<h:outputText value="#{ic.adi}" />
											</p:column>
											<p:ajax update="mahalle,sokak"
												listener="#{isEmriGirisi.ilceSecildi}" />
										</p:selectOneMenu>
									</pm:field>
									<pre />
									<pm:field>
										<p:outputLabel for="mahalle" value="Mahalle " />
										<p:selectOneMenu id="mahalle"
											value="#{isEmriGirisi.secilenMahalle}"
											converter="omnifaces.SelectItemsConverter" var="m"
											filter="true" filterMatchMode="contains">
											<f:selectItem noSelectionOption="true"
												itemLabel="Mahalle Seç" itemValue="" />
											<f:selectItems value="#{isEmriGirisi.mahalleList}"
												var="mahalle" itemLabel="#{mahalle.adi}"
												itemValue="#{mahalle}" />
											<p:column>
												<h:outputText value="#{m.adi}" />
											</p:column>
											<p:ajax update="sokak"
												listener="#{isEmriGirisi.mahalleSecildi}" />
										</p:selectOneMenu>
									</pm:field>
									<pre />
									<pm:field>
										<p:outputLabel for="sokak" value="Sokak " />
										<p:selectOneMenu id="sokak"
											value="#{isEmriGirisi.isEmri.bina.sokak}"
											converter="omnifaces.SelectItemsConverter" var="sk"
											filter="true" filterMatchMode="contains">
											<f:selectItem noSelectionOption="true" itemLabel="Sokak Seç"
												itemValue="" />
											<f:selectItems value="#{isEmriGirisi.sokakList}" var="sokak"
												itemLabel="#{sokak.adi}" itemValue="#{sokak}" />
											<p:column>
												<h:outputText value="#{sk.adi}" />
											</p:column>
											<p:ajax process="@parent" />
										</p:selectOneMenu>
									</pm:field>
									<pm:field>
										<p:commandButton style="float:right;" value="Ara"
											process="@parent" actionListener="#{isEmriGirisi.adresAra}"
											onclick="PF('dlg3').show();" update=":isEmri:adresSonucu" />
									</pm:field>
									<pre />
									<pm:field>
										<p:outputLabel value="Daire No " />
										<p:inputText id="daireNo"
											value="#{isEmriGirisi.isEmri.bina.daireNo}" />
									</pm:field>
									<pre />
									<pm:field>
										<p:outputLabel value="Kapı No " />
										<p:inputText id="kapiNo"
											value="#{isEmriGirisi.isEmri.bina.kapiNo}" />
									</pm:field>
								</p:column>
							</p:panelGrid>
						</p:panel>
					</p:panelGrid>

					<p:panelGrid columns="2">
						<p:column>
							<pm:field>
								<p:outputLabel for="atananUser" value="Atanan Kişi " />
								<p:selectOneMenu id="atananUser"
									value="#{isEmriGirisi.isEmri.atananUser}"
									converter="omnifaces.SelectItemsConverter" var="au"
									filter="true" filterMatchMode="contains">
									<f:selectItem noSelectionOption="true"
										itemLabel="Atanan Kişi Seç" itemValue="" />
									<f:selectItems value="#{isEmriGirisi.userList}"
										var="atananUser"
										itemLabel="#{atananUser.name} #{atananUser.surName}"
										itemValue="#{atananUser}" />
									<p:column>
										<h:outputText value="#{au.name} #{au.surName}" />
									</p:column>
								</p:selectOneMenu>
							</pm:field>
						</p:column>
						<p:column>
							<pm:field>
								<p:outputLabel for="kontrolEdenUser" value="Kontrol Eden Kişi " />
								<p:selectOneMenu id="kontrolEdenUser"
									value="#{isEmriGirisi.isEmri.kontrolEdenUser}"
									converter="omnifaces.SelectItemsConverter" var="ku"
									filter="true" filterMatchMode="contains">
									<f:selectItem noSelectionOption="true"
										itemLabel="Kontrol Eden Kişi Seç" itemValue="" />
									<f:selectItems value="#{isEmriGirisi.userList}"
										var="kontrolEdenUser"
										itemLabel="#{kontrolEdenUser.name} #{kontrolEdenUser.surName}"
										itemValue="#{kontrolEdenUser}" />
									<p:column>
										<h:outputText value="#{ku.name} #{ku.surName}" />
									</p:column>
								</p:selectOneMenu>
							</pm:field>
						</p:column>
					</p:panelGrid>

					<p:panelGrid columns="2" id="tuzelKisi">
						<p:column>
							<pm:field>
								<h:outputText value="Kisi/Firma" />
								<p:selectBooleanCheckbox style="padding-left:10px;"
									value="#{isEmriGirisi.tuzelKisi}">
									<p:ajax update="tuzelKisi" />
								</p:selectBooleanCheckbox>
							</pm:field>
						</p:column>
						<p:column>
							<p:panel rendered="#{isEmriGirisi.tuzelKisi}">
								<pm:field>
									<p:outputLabel value="Kişi Bilgileri" />
								</pm:field>
								<pre />
								<pm:field>
									<p:outputLabel for="kisi" value="Kişi " />
									<p:selectOneMenu id="kisi" value="#{isEmriGirisi.secilenKisi}"
										converter="omnifaces.SelectItemsConverter" var="k"
										filter="true" filterMatchMode="contains">
										<f:selectItem noSelectionOption="true" itemLabel="Kişi Seç"
											itemValue="" />
										<f:selectItems value="#{isEmriGirisi.kisiList}" var="kisi"
											itemLabel="#{kisi.name} #{kisi.surName}" itemValue="#{kisi}" />
										<p:column>
											<h:outputText value="#{k.name} #{k.surName}" />
										</p:column>
									</p:selectOneMenu>
								</pm:field>
								<pm:field>
									<p:commandButton id="yeniKisi" value="Yeni Kişi"
										onclick="PF('dlg1').show();" />
								</pm:field>
							</p:panel>

							<p:panel rendered="#{!isEmriGirisi.tuzelKisi}">
								<pm:field>
									<p:outputLabel value="Firma Bilgileri" />
								</pm:field>
								<pre />
								<pm:field>
									<p:outputLabel for="firma" value="Firma " />
									<p:selectOneMenu id="firma"
										value="#{isEmriGirisi.secilenFirma}"
										converter="omnifaces.SelectItemsConverter" var="f"
										filter="true" filterMatchMode="contains">
										<f:selectItem noSelectionOption="true" itemLabel="Firma Seç"
											itemValue="" />
										<f:selectItems value="#{isEmriGirisi.firmaList}" var="firma"
											itemLabel="#{firma.name}" itemValue="#{firma}" />
										<p:column>
											<h:outputText value="#{f.name}" />
										</p:column>
									</p:selectOneMenu>
								</pm:field>
								<pm:field>
									<p:commandButton id="yeniFirma" value="Yeni Firma"
										onclick="PF('dlg2').show();" />
								</pm:field>
							</p:panel>
						</p:column>
					</p:panelGrid>
					<pm:field>
						<p:commandButton value="Kaydet"
							actionListener="#{isEmriGirisi.kaydet}" update=":isEmri:anaPanel" />
						<p:button outcome="isEmriList" value="Listele" />
					</pm:field>
				</p:panel>


				<p:dialog id="kisiKaydet" header="Yeni Kişi" widgetVar="dlg1">
					<p:panel id="yeni1">
						<p:panelGrid columns="2">
							<pm:field>
								<p:outputLabel value=" Kisi TC Kimlik Numarası : " />
								<p:inputText value="#{kisiGirisi.kisi.tcKimlikNo}" />
							</pm:field>
							<pm:field>
								<p:outputLabel value=" Kisi Adı : " />
								<p:inputText value="#{kisiGirisi.kisi.name}" />
							</pm:field>
							<pm:field>
								<p:outputLabel value=" Kisi Soyadı : " />
								<p:inputText value="#{kisiGirisi.kisi.surName}" />
							</pm:field>
							<pm:field>
								<p:outputLabel value=" Kisi Telefonu : " />
								<p:inputText value="#{kisiGirisi.kisi.telNo}" />
							</pm:field>
							<pm:field>
								<p:outputLabel value=" Kisi Adresi : " />
								<p:inputTextarea value="#{kisiGirisi.kisi.adres}" />
							</pm:field>
							<pm:field>
								<p:outputLabel value=" Kapı no : " />
								<p:inputTextarea value="#{kisiGirisi.kisi.kapiNo}" />
							</pm:field>
							<pm:field>
								<p:outputLabel value=" Daire no : " />
								<p:inputTextarea value="#{kisiGirisi.kisi.daireNo}" />
							</pm:field>
						</p:panelGrid>
					</p:panel>
					<pm:field>
						<div align="right">
							<p:commandButton value="İptal" style="float:left;"
								onclick="PF('dlg1').hide();" />
							<p:commandButton value="Kaydet" process="@parent"
								update=":isEmri:kisi" oncomplete="PF('dlg1').hide();"
								actionListener="#{isEmriGirisi.kisiKaydet}" />
						</div>
					</pm:field>
				</p:dialog>

				<p:dialog id="firmaKaydet" header="Yeni Firma" widgetVar="dlg2">
					<p:panel id="yeni2">
						<pm:field>
							<p:outputLabel value=" Firma Adı : " />
							<p:inputText value="#{firmaGirisi.firma.name}" />
						</pm:field>
						<pm:field>
							<p:outputLabel value=" Adresi Adı : " />
							<p:inputTextarea value="#{firmaGirisi.firma.adres}" />
						</pm:field>
					</p:panel>
					<pm:field>
						<div align="right">
							<p:commandButton value="İptal" style="float:left;"
								onclick="PF('dlg2').hide();" />
							<p:commandButton value="Kaydet" process="@parent"
								update=":isEmri:firma" oncomplete="PF('dlg2').hide();"
								actionListener="#{isEmriGirisi.firmaKaydet}" />
						</div>
					</pm:field>
				</p:dialog>

				<p:dialog id="adresAra" header="Arama Sonucu" widgetVar="dlg3">
					<p:panel id="ara1">
						<p:panelGrid columns="1">
							<pm:field>
								<p:dataTable id="adresSonucu" var="bina"
									value="#{isEmriGirisi.binaList}" paginator="true" rows="5"
									paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
									rowsPerPageTemplate="5,10,15">
									<p:column headerText="Seç">
										<p:commandButton value="Seç" onclick="PF('dlg3').hide();"
											actionListener="#{isEmriGirisi.sonucSecildi(bina)}"
											update=":isEmri:binaAdresi" />
									</p:column>
									<p:column headerText="Adres" style="width:150px">
										<h:outputText value="#{bina.adres}" />
									</p:column>
								</p:dataTable>
							</pm:field>
						</p:panelGrid>
						<pm:field>
							<p:commandButton value="İptal" onclick="PF('dlg3').hide();" />
							<p:commandButton value="Yeni Adres" style="float:right;"
								process="@parent" onclick="PF('dlg3').hide();PF('dlg4').show();"
								update=":isEmri:il2,:isEmri:ilce2,:isEmri:mahalle2,:isEmri:sokak2" />
						</pm:field>
					</p:panel>
				</p:dialog>

				<p:dialog id="yeniBina" header="Yeni Bina Adresi" widgetVar="dlg4">
					<p:panelGrid id="yeniAdres2" columns="1">
						<p:column>
							<pm:field>
								<p:outputLabel for="il2" value="İl" />
								<p:selectOneMenu id="il2" value="#{isEmriGirisi.secilenIl}"
									converter="omnifaces.SelectItemsConverter" var="i"
									filter="true" filterMatchMode="contains">
									<f:selectItem noSelectionOption="true" itemLabel="İl Seç"
										itemValue="" />
									<f:selectItems value="#{isEmriGirisi.ilList}" var="il"
										itemLabel="#{il.adi}" itemValue="#{il}" />
									<p:column>
										<h:outputText value="#{i.adi}" />
									</p:column>
									<p:ajax update="ilce2,mahalle2,sokak2"
										listener="#{isEmriGirisi.ilSecildi}" />
								</p:selectOneMenu>
							</pm:field>
							<pre />
							<pm:field>
								<p:outputLabel for="ilce2" value="İlçe " />
								<p:selectOneMenu id="ilce2" value="#{isEmriGirisi.secilenIlce}"
									converter="omnifaces.SelectItemsConverter" var="ic"
									filter="true" filterMatchMode="contains">
									<f:selectItem noSelectionOption="true" itemLabel="İlçe Seç"
										itemValue="" />
									<f:selectItems value="#{isEmriGirisi.ilceList}" var="ilce"
										itemLabel="#{ilce.adi}" itemValue="#{ilce}" />
									<p:column>
										<h:outputText value="#{ic.adi}" />
									</p:column>
									<p:ajax update="mahalle2,sokak2"
										listener="#{isEmriGirisi.ilceSecildi}" />
								</p:selectOneMenu>
							</pm:field>
							<pre />
							<pm:field>
								<p:outputLabel for="mahalle2" value="Mahalle " />
								<p:selectOneMenu id="mahalle2"
									value="#{isEmriGirisi.secilenMahalle}"
									converter="omnifaces.SelectItemsConverter" var="m"
									filter="true" filterMatchMode="contains">
									<f:selectItem noSelectionOption="true" itemLabel="Mahalle Seç"
										itemValue="" />
									<f:selectItems value="#{isEmriGirisi.mahalleList}"
										var="mahalle" itemLabel="#{mahalle.adi}"
										itemValue="#{mahalle}" />
									<p:column>
										<h:outputText value="#{m.adi}" />
									</p:column>
									<p:ajax update="sokak2"
										listener="#{isEmriGirisi.mahalleSecildi}" />
								</p:selectOneMenu>
							</pm:field>
							<pre />
							<pm:field>
								<p:outputLabel for="sokak2" value="Sokak " />
								<p:selectOneMenu id="sokak2"
									value="#{isEmriGirisi.isEmri.bina.sokak}"
									converter="omnifaces.SelectItemsConverter" var="sk"
									filter="true" filterMatchMode="contains">
									<f:selectItem noSelectionOption="true" itemLabel="Sokak Seç"
										itemValue="" />
									<f:selectItems value="#{isEmriGirisi.sokakList}" var="sokak"
										itemLabel="#{sokak.adi}" itemValue="#{sokak}" />
									<p:column>
										<h:outputText value="#{sk.adi}" />
									</p:column>
								</p:selectOneMenu>
							</pm:field>
							<pre />
							<pm:field>
								<p:outputLabel value="Daire No " />
								<p:inputText id="daireNo2" value="#{binaGirisi.bina.daireNo}" />
							</pm:field>
							<pre />
							<pm:field>
								<p:outputLabel value="Kapı No " />
								<p:inputText id="kapiNo2" value="#{binaGirisi.bina.kapiNo}" />
							</pm:field>
						</p:column>
					</p:panelGrid>
					<pm:field>
						<p:commandButton value="İptal" onclick="PF('dlg4').hide();" />
						<p:commandButton style="float:right;" value="Kaydet"
							oncomplete="PF('dlg4').hide();" update=":isEmri:binaAdresi"
							actionListener="#{isEmriGirisi.binaKaydet}" />
					</pm:field>
				</p:dialog>
			</h:form>
		</pm:content>
	</pm:page>
</h:body>

</html>
